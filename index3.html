<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

  <link href="css/styles.css" rel="stylesheet" />

  <title>AI Dog</title>

  <style>
    #directionsResult {
      display: none;
    }
  </style>
</head>

<body class="d-flex h-100 text-center text-white bg-dark">

  <div class="container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <header class="mb-auto">
      <div>
        <h3 class="float-md-start mb-0">AI Dog</h3>
        <nav class="nav nav-masthead justify-content-center float-md-end">
          <a class="nav-link active" aria-current="page" href="#">Home</a>
          <a class="nav-link" href="#">Features</a>
          <a class="nav-link" href="#">Contact</a>
        </nav>
      </div>
    </header>

    <main class="px-3">
      <img src="images/splash.jpg" class="splash img-fluid" />
      <p class="lead">Let us help you determine if your journey is accessible or not!</p>
      <form class="row gy-2 gx-3 justify-content-md-center">
        <div class="col-8">
          <select class="form-select" aria-label="Campus">
            <option selected>Open this select menu</option>
            <option value="pace">Pace University</option>
            <option value="mit">MIT</option>
            <option value="gt">Georgia Tech</option>
          </select>
          <label class="visually-hidden" for="currentLocation">Where are You?</label>
          <div class="input-group">
            <input type="text" class="form-control" id="currentLocation"
              placeholder="Please enter your current location: ex. 40.7105199,-74.0084579 or 55 Main Street, Mainville, NY 55555">
          </div>
          <label class="visually-hidden" for="destination">Destination</label>
          <div class="input-group">
            <input type="text" class="form-control" id="destination"
              placeholder="Please enter Where are you going: : ex. 40.7105199,-74.0084579 or 55 Main Street, Mainville, NY 55555">
          </div>
        </div>

        <div class="col-auto">
          <button type="submit" id="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>

      <div id="directionsResult" class="row">
        <div class="col-6">
          <h2>Directions</h2>
          <div id="directionsSteps"></div>
        </div>
        <div class="col-6">
          One of two columns
        </div>
      </div>
    </main>

    <footer class="text-white-50">
      <p>Footer info or copyright can go here.</p>
    </footer>
  </div>
</body>
<script>
const apiResults = {
    "DIRECTIONS":{
       "startLocation":{
          "address":"144 Fulton St, New York, NY 10038, USA",
          "latitude":40.7105199,
          "longitude":-74.0084579,
          "placeID":"ChIJ8ftNOBhawokRrLVGhfHUzxQ"
       },
       "endLocation":{
          "address":"City Hall Park, Broadway &, Chambers St, New York, NY 10007, USA",
          "latitude":40.7124735,
          "longitude":-74.0065084,
          "placeID":"ChIJBxw9mhhawokRJzY2jnlYsZM"
       },
       "movedDirectionsDueToNonAccesibileOrginal":false,
       "overview_polyline":"wgnwFzwubMy@pBQ`@UOcBsAcBuA{AmAGK_@UkAaA\\g@VTBDv@n@Zq@PQAQHOa@cAQg@",
       "process":{
          "Step 1":{
             "startLat":40.7105199,
             "startLong":-74.0084579,
             "endLat":40.7110058,
             "endLong":-74.00912199999999,
             "distance_meters":67,
             "duration_seconds":47,
             "manuver":"UNAVALIABLE",
             "direction":{
                "NUMBER":313.9868319965208,
                "TEXT":"West"
             },
             "describeMovement":"b'Head <b>northwest</b> on <b>Fulton St</b> toward <b>Broadway</b>'",
             "lstofLatLongBetween":{
                "1":{
                   "lat":40.7110058,
                   "lng":-74.00912199999999,
                   "latStored":40.71103969999999,
                   "lngStored":-74.00898519999998,
                   "distance":39.814,
                   "SideWalkAccesible":true,
                   "direction":71.896
                },
                "2":{
                   "lat":40.7110058,
                   "lng":-74.00912199999999,
                   "latStored":40.71103969999999,
                   "lngStored":-74.00898519999998,
                   "distance":39.814,
                   "SideWalkAccesible":true,
                   "direction":71.896
                },
                "3":{
                   "lat":40.7110058,
                   "lng":-74.00912199999999,
                   "latStored":40.71103969999999,
                   "lngStored":-74.00898519999998,
                   "distance":39.814,
                   "SideWalkAccesible":true,
                   "direction":71.896
                },
                "4":{
                   "lat":40.7110058,
                   "lng":-74.00912199999999,
                   "latStored":40.71103969999999,
                   "lngStored":-74.00898519999998,
                   "distance":39.814,
                   "SideWalkAccesible":true,
                   "direction":71.896
                },
                "5":{
                   "lat":40.7110058,
                   "lng":-74.00912199999999,
                   "latStored":40.71103969999999,
                   "lngStored":-74.00898519999998,
                   "distance":39.814,
                   "SideWalkAccesible":true,
                   "direction":71.896
                }
             },
             "describeEnviorment":[
                "a group of people outside a building; a busy street with cars and people; a group of people walking on a street between buildings; a busy city street",
                "a person riding a scooter in front of a building; a car parked on the side of a street; cars parked on the side of a street in front of a building; a busy city street",
                "a person riding a scooter in front of a building; a car parked on the side of a street; cars parked on the side of a street in front of a building; a busy city street",
                "a bus and cars on a street; a street with cars and buildings; a busy city street; a group of people on a street",
                "a bus and cars on a street; a street with cars and buildings; a busy city street; a group of people on a street"
             ]
          },
          "Step 2":{
             "startLat":40.7110058,
             "startLong":-74.00912199999999,
             "endLat":40.71293310000001,
             "endLong":-74.0072297,
             "distance_meters":283,
             "duration_seconds":241,
             "manuver":"turn-right",
             "direction":{
                "NUMBER":36.657830739040094,
                "TEXT":"North"
             },
             "describeMovement":"b'Turn <b>right</b> onto <b>Broadway</b>'",
             "lstofLatLongBetween":{
                "1":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "2":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "3":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "4":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "5":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "6":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "7":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "8":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "9":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "10":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "11":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "12":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                },
                "13":{
                   "lat":40.71293310000001,
                   "lng":-74.0072297,
                   "latStored":40.7128397,
                   "lngStored":-74.00741719999999,
                   "distance":62.065,
                   "SideWalkAccesible":true,
                   "direction":236.688
                }
             },
             "describeEnviorment":[
                "a bus and cars on a street; a street with cars and buildings; a busy city street; a group of people on a street",
                "a bus and cars on a street; a street with cars and buildings; a busy city street; a group of people on a street",
                "a bus travels down the street; a group of people crossing a street; a group of cars on a street; a group of people walking on a sidewalk next to a large building",
                "a motorcycle parked on the side of a street; a busy city street; people crossing a street; a car on a street",
                "a group of people walking on a sidewalk next to a large building; a crosswalk with people and buildings in the background; a busy city street; a street corner with a storefront and a bicycle parked on the side",
                "a busy street with cars and people; a busy street with people and cars; a street with cars and people on it; a group of people walking on a street next to a bus",
                "a busy street with cars and people; a busy street with people and cars; a street with cars and people on it; a group of people walking on a street next to a bus",
                "a group of people on a street; a yellow car on the street; a busy city street; a yellow taxi on the street",
                "a busy city street; a group of cars on a road; a busy street with cars and people on it; a crowd of people outside a building",
                "a street with a bus and people on it; a group of people crossing a street; a yellow car on a street; a busy street with cars and people",
                "a street with a bus and people on it; a group of people crossing a street; a yellow car on a street; a busy street with cars and people",
                "a bus on the street; a car on the street; a group of cars on a street; a group of people walking on a sidewalk next to a firetruck",
                "a bus on the street; a car on the street; a group of cars on a street; a group of people walking on a sidewalk next to a firetruck"
             ]
          },
          "Step 3":{
             "startLat":40.71293310000001,
             "startLong":-74.0072297,
             "endLat":40.7128957,
             "endLong":-74.0071754,
             "distance_meters":15,
             "duration_seconds":21,
             "manuver":"turn-right",
             "direction":{
                "NUMBER":132.26072088334172,
                "TEXT":"East"
             },
             "describeMovement":"b'Turn <b>right</b> at <b>Murray Street</b>'",
             "lstofLatLongBetween":{
                "1":{
                   "lat":40.7128957,
                   "lng":-74.0071754,
                   "latStored":40.7128397,
                   "lngStored":-74.00701719999999,
                   "distance":48.299,
                   "SideWalkAccesible":false,
                   "direction":115.033
                },
                "2":{
                   "lat":40.7128957,
                   "lng":-74.0071754,
                   "latStored":40.7128397,
                   "lngStored":-74.00701719999999,
                   "distance":48.299,
                   "SideWalkAccesible":false,
                   "direction":115.033
                }
             },
             "describeEnviorment":[
                "a bus on the street; a car on the street; a group of cars on a street; a group of people walking on a sidewalk next to a firetruck",
                "text, letter; text, letter; text, letter; text, letter"
             ]
          },
          "Step 4":{
             "startLat":40.7128957,
             "startLong":-74.0071754,
             "endLat":40.7124819,
             "endLong":-74.0075588,
             "distance_meters":64,
             "duration_seconds":45,
             "manuver":"turn-right",
             "direction":{
                "NUMBER":215.08051514233736,
                "TEXT":"South"
             },
             "describeMovement":"b'Turn <b>right</b>'",
             "lstofLatLongBetween":{
                "1":{
                   "lat":40.7124819,
                   "lng":-74.0075588,
                   "latStored":40.71253969999999,
                   "lngStored":-74.0075452,
                   "distance":21.427,
                   "SideWalkAccesible":true,
                   "direction":10.112
                },
                "2":{
                   "lat":40.7124819,
                   "lng":-74.0075588,
                   "latStored":40.71253969999999,
                   "lngStored":-74.0075452,
                   "distance":21.427,
                   "SideWalkAccesible":true,
                   "direction":10.112
                },
                "3":{
                   "lat":40.7124819,
                   "lng":-74.0075588,
                   "latStored":40.71253969999999,
                   "lngStored":-74.0075452,
                   "distance":21.427,
                   "SideWalkAccesible":true,
                   "direction":10.112
                },
                "4":{
                   "lat":40.7124819,
                   "lng":-74.0075588,
                   "latStored":40.71253969999999,
                   "lngStored":-74.0075452,
                   "distance":21.427,
                   "SideWalkAccesible":true,
                   "direction":10.112
                }
             },
             "describeEnviorment":[
                "text, letter; text, letter; text, letter; text, letter",
                "a bus on the street; a car on the street; a group of cars on a street; a group of people walking on a sidewalk next to a firetruck",
                "a street with a bus and people on it; a group of people crossing a street; a yellow car on a street; a busy street with cars and people",
                "a street with a bus and people on it; a group of people crossing a street; a yellow car on a street; a busy street with cars and people"
             ]
          },
          "Step 5":{
             "startLat":40.7124819,
             "startLong":-74.0075588,
             "endLat":40.7122056,
             "endLong":-74.0070502,
             "distance_meters":55,
             "duration_seconds":40,
             "manuver":"turn-left",
             "direction":{
                "NUMBER":125.62925985380787,
                "TEXT":"East"
             },
             "describeMovement":"b'Turn <b>left</b>'",
             "lstofLatLongBetween":{
                "1":{
                   "lat":40.7122056,
                   "lng":-74.0070502,
                   "latStored":40.7122397,
                   "lngStored":-74.00687319999999,
                   "distance":50.52,
                   "SideWalkAccesible":false,
                   "direction":75.739
                },
                "2":{
                   "lat":40.7122056,
                   "lng":-74.0070502,
                   "latStored":40.7122397,
                   "lngStored":-74.00687319999999,
                   "distance":50.52,
                   "SideWalkAccesible":false,
                   "direction":75.739
                },
                "3":{
                   "lat":40.7122056,
                   "lng":-74.0070502,
                   "latStored":40.7122397,
                   "lngStored":-74.00687319999999,
                   "distance":50.52,
                   "SideWalkAccesible":false,
                   "direction":75.739
                },
                "4":{
                   "lat":40.7122056,
                   "lng":-74.0070502,
                   "latStored":40.7122397,
                   "lngStored":-74.00687319999999,
                   "distance":50.52,
                   "SideWalkAccesible":false,
                   "direction":75.739
                }
             },
             "describeEnviorment":[
                "a street with a bus and people on it; a group of people crossing a street; a yellow car on a street; a busy street with cars and people",
                "text, letter; text, letter; text, letter; text, letter",
                "text, letter; text, letter; text, letter; text, letter",
                "text, letter; text, letter; text, letter; text, letter"
             ]
          },
          "Step 6":{
             "startLat":40.7122056,
             "startLong":-74.0070502,
             "endLat":40.7124735,
             "endLong":-74.0065084,
             "distance_meters":55,
             "duration_seconds":40,
             "manuver":"turn-left",
             "direction":{
                "NUMBER":56.88234406485486,
                "TEXT":"East"
             },
             "describeMovement":"b'Turn <b>left</b>'",
             "lstofLatLongBetween":{
                "1":{
                   "lat":40.7124735,
                   "lng":-74.0065084,
                   "latStored":40.71253969999999,
                   "lngStored":-74.00634519999998,
                   "distance":51.203,
                   "SideWalkAccesible":false,
                   "direction":61.847
                },
                "2":{
                   "lat":40.7124735,
                   "lng":-74.0065084,
                   "latStored":40.71253969999999,
                   "lngStored":-74.00634519999998,
                   "distance":51.203,
                   "SideWalkAccesible":false,
                   "direction":61.847
                },
                "3":{
                   "lat":40.7124735,
                   "lng":-74.0065084,
                   "latStored":40.71253969999999,
                   "lngStored":-74.00634519999998,
                   "distance":51.203,
                   "SideWalkAccesible":false,
                   "direction":61.847
                },
                "4":{
                   "lat":40.7124735,
                   "lng":-74.0065084,
                   "latStored":40.71253969999999,
                   "lngStored":-74.00634519999998,
                   "distance":51.203,
                   "SideWalkAccesible":false,
                   "direction":61.847
                }
             },
             "describeEnviorment":[
                "text, letter; text, letter; text, letter; text, letter",
                "text, letter; text, letter; text, letter; text, letter",
                "text, letter; text, letter; text, letter; text, letter",
                "text, letter; text, letter; text, letter; text, letter"
             ]
          }
       },
       "summary":"Broadway",
       "elevationChange_meters":0.035678863525390625
    }
 };
 console.log(apiResults);

  const azureURL = 'https://accessibledirections.azurewebsites.net/api/dirAPI';
  let startAddress = '40.7105199,-74.0084579';
  let endAddress = '40.7110058,-74.009122';
  const directionsAPI = azureURL + '?startAddress=' + startAddress + '&endAddress=' + endAddress;
  const directionsResult = document.getElementById('directionsResult');
  const directionsSteps = document.getElementById('directionsSteps');
  const submitButton = document.getElementById('submit');

  submitButton.onclick = getDirections();

  function getDirections(e) {
    console.log(apiResults.DIRECTIONS.process.length);
    directionsResult.style.display = "block";
    //directionsSteps.innerHTML = apiResults.DIRECTIONS.process['Step 1'].describeMovement;
    directionsSteps.innerHTML += '<ul>';

    for (const [key, value] of Object.entries(apiResults.DIRECTIONS.process)) {
      directionsSteps.innerHTML += '<li>' + value.describeMovement + '</li>';
    }
    directionsSteps.innerHTML += '</ul>';

    /*
    console.log(directionsAPI);
    fetch(directionsAPI, {
      method: "GET",
      mode: "no-cors"
    })
    .then(res => console.log(res))
    .then(res => res.json())
    .then(data => {
       console.log(data);
      })
    .catch(error => {
       console.error(error);
      });
      */
  }  
</script>

</html>